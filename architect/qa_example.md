# Вопросы для архитектора — примеры ответов

## 1. Опыт создания и защиты технической стратегии

**Есть ли опыт создания и защиты технической стратегии с горизонтом планирования от 3 лет?**

Да.

Разрабатывал и защищал техническую стратегию для нескольких продуктов — от высоконагруженных микросервисных систем до data-платформ.

Горизонт планирования составлял 3–5 лет: стратегия включала:
- Целевое состояние архитектуры
- Планы технологической эволюции
- Этапы миграции с legacy-решений
- Финансово-временные оценки
- Road-map по реализации

Презентация проводилась перед CTO и бизнес-стейкхолдерами с акцентом на ROI, риски и TCO.

### Пример

Для платформы с 10+ микросервисами и высокой нагрузкой спланировал переход от монолитных cron-тасков к событийной архитектуре (Kafka, Celery, ClickHouse). Это позволило масштабировать ingestion-потоки и заложить основу для ML-анализов на горизонте 3 лет.

---

## 2. Принципы построения стратегии

- **Evolution over Revolution** — поэтапное развитие без "big bang" переписывания
- **Modularity & Replaceability** — каждая часть системы может быть заменена без остановки всей платформы
- **Business Alignment** — архитектура под цели бизнеса: скорость вывода фич, SLA, cost-efficiency
- **Observability & Feedback Loops** — закладывание мониторинга, метрик, ретроспектив по техдолгу
- **Security & Compliance by Design** — соответствие требованиям безопасности и регуляторики изначально
- **Cloud-Native & Scalability** — приоритизация горизонтального масштабирования и контейнеризации
- **Sustainability** — выбор технологий, которые будут поддерживаться и развиваться 3+ года

---

## 3. Практический опыт решения bottleneck

Да, неоднократно.

### Пример 1 — Backend

**Проблема:** Bottleneck в Postgres при массовых INSERT-операциях из нескольких сервисов.

**Решение:** Внедрение batch-insert + очередь (RabbitMQ) и шардинг по времени.

**Результат:** Прирост пропускной способности на 40%, снижение p95 latency с 600 мс до 180 мс.

### Пример 2 — Infra

**Проблема:** При росте нагрузки pipeline Celery начал "захлёбываться" на retry-тасках.

**Решение:** Оптимизация маршрутизации очередей и переход на Kafka + worker-pool auto-scaling.

**Результат:** Стабильность при x3 росте нагрузки без деградации SLA.

### Пример 3 — Frontend

**Проблема:** Слишком тяжёлый bundle (2.5 MB) на Vue/Nuxt.

**Решение:** Lazy-loading, code-splitting и кеширование GraphQL-ответов.

**Результат:** TTI уменьшен на 45%.

---

## 4. Что такое НФТ (нефункциональные требования)?

**Нефункциональные требования** — это характеристики системы, описывающие **"как"** она работает, а не **"что"** делает.

Они задают рамки качества:
- Производительность
- Масштабируемость
- Безопасность
- Отказоустойчивость
- Наблюдаемость

> Иными словами — НФТ определяют технический уровень зрелости и пользовательское восприятие продукта, не влияя напрямую на функциональность.

---

## 5. Примеры НФТ для серверного продукта

| Категория | Требование |
|-----------|------------|
| **Performance** | RPS ≥ 10k, p95 < 200 мс |
| **Scalability** | Горизонтальное масштабирование без даунтайма |
| **Availability** | 99.95% uptime |
| **Security** | RBAC, TLS, OWASP compliance |
| **Observability** | Метрики, алерты, distributed tracing |
| **Maintainability** | Код-ковередж ≥ 80%, CI/CD без ручных шагов |
| **Resilience** | Graceful degradation при сбоях внешних сервисов |
| **Cost Efficiency** | Autoscaling и оптимизация ресурсов |

---

## 6. Примеры НФТ для клиентского приложения

| Категория | Требование |
|-----------|------------|
| **Performance** | Время загрузки < 2 сек, TTI < 3 сек |
| **Usability** | Адаптивность интерфейса, доступность (WCAG) |
| **Security** | Защита данных клиента, CSP, XSS/CSRF-контроль |
| **Offline readiness** | Работа при потере соединения |
| **Compatibility** | Поддержка последних 2 версий браузеров |
| **Reliability** | Корректная обработка ошибок API и откат состояния |
| **Update strategy** | Seamless обновления без потери состояния |
| **Telemetry** | Сбор UX-метрик и ошибок (Sentry, Datadog) |
